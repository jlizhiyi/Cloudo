[
  {
    "type": "multiple",
    "question": "You have a database server that should NOT be directly accessible from the internet but needs to download security patches. Which setup is correct?",
    "options": [
      "Place it in a public subnet with no Security Group",
      "Place it in a private subnet with a NAT Gateway",
      "Place it in a public subnet with a NAT Gateway",
      "Place it in a private subnet with an Internet Gateway"
    ],
    "correct": 1,
    "explanation": "A private subnet has no direct internet route. A NAT Gateway allows outbound internet access (for updates) while blocking unsolicited inbound connections."
  },
  {
    "type": "multiple",
    "question": "What is the key difference between Security Groups and Network ACLs?",
    "options": [
      "Security Groups are stateless; NACLs are stateful",
      "Security Groups operate at the instance level; NACLs operate at the subnet level",
      "NACLs can only allow traffic; Security Groups can allow or deny",
      "Security Groups cost extra; NACLs are free"
    ],
    "correct": 1,
    "explanation": "Security Groups are instance-level firewalls (stateful). NACLs are subnet-level firewalls (stateless). Both are free."
  },
  {
    "type": "matching",
    "question": "Match the component to its function:",
    "pairs": [
      ["Internet Gateway", "Enables VPC to communicate with the internet"],
      ["NAT Gateway", "Allows private instances to reach the internet outbound only"],
      ["Security Group", "Stateful firewall at the instance level"],
      ["Network ACL", "Stateless firewall at the subnet level"]
    ]
  },
  {
    "type": "fillblank",
    "question": "A subnet that has a route to an Internet Gateway is called a ___ subnet.",
    "answers": ["public", "Public"],
    "explanation": "Public subnets route traffic to an Internet Gateway, allowing resources to have public IP addresses and internet access."
  },
  {
    "type": "multiple",
    "question": "By default, what does a new Security Group allow?",
    "options": [
      "All inbound and outbound traffic",
      "All inbound traffic, no outbound traffic",
      "No inbound traffic, all outbound traffic",
      "No traffic at all"
    ],
    "correct": 2,
    "explanation": "By default, Security Groups deny all inbound traffic and allow all outbound traffic. You must add inbound rules explicitly."
  },
  {
    "type": "multiple",
    "question": "Two VPCs need to communicate privately without going over the public internet. What should you use?",
    "options": [
      "Internet Gateway",
      "NAT Gateway",
      "VPC Peering",
      "Public Subnets"
    ],
    "correct": 2,
    "explanation": "VPC Peering creates a private network connection between two VPCs using AWS's internal network."
  },
  {
    "type": "multiple",
    "question": "Which statement about Network ACLs is TRUE?",
    "options": [
      "They are stateful - return traffic is automatically allowed",
      "They only support allow rules",
      "They are stateless - you must create rules for both inbound and outbound",
      "They apply to individual EC2 instances"
    ],
    "correct": 2,
    "explanation": "NACLs are stateless. If you allow inbound HTTP, you must also allow outbound HTTP responses. They also support both allow AND deny rules."
  },
  {
    "type": "matching",
    "question": "Match the scenario to the solution:",
    "pairs": [
      ["Web server needs to be publicly accessible", "Public subnet with Internet Gateway"],
      ["Database needs to download patches but not be public", "Private subnet with NAT Gateway"],
      ["Block a specific IP address at the subnet level", "Network ACL deny rule"],
      ["Allow SSH only from your office IP to an EC2 instance", "Security Group inbound rule"]
    ]
  },
  {
    "type": "fillblank",
    "question": "Security Groups are ___, meaning return traffic is automatically allowed.",
    "answers": ["stateful", "Stateful"],
    "explanation": "Stateful firewalls track connections. If you allow an inbound request, the response is automatically permitted without an explicit outbound rule."
  }
]